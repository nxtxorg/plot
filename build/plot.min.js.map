{"version":3,"file":"plot.min.js","sources":["../src/plot.ts"],"sourcesContent":["import {NodeType, INxtx, Package, Node} from '../nxtx';\r\n\r\ndeclare const nxtx: INxtx;\r\n\r\nconst pkg: Package = {\r\n    name: 'plot',\r\n    commands: {\r\n        plot: (dictionaryNode: Node) => {\r\n            let {type, y, ylabel, xlabel} = dictionaryNode.value;\r\n            const canvas = document.createElement(\"canvas\");\r\n\r\n            const ctx = canvas.getContext(\"2d\");\r\n\r\n            const canvasHeight = canvas.height = 100;\r\n            canvas.width = 100;\r\n\r\n            canvas.style.height = \"200px\";\r\n            canvas.style.width = \"400px\";\r\n\r\n            const normalizedY = normalize(y);\r\n\r\n            ctx.beginPath();\r\n            for (let i = 0; i < y.length-1; i++) {\r\n                ctx.moveTo(i, y[i] * canvasHeight);\r\n                ctx.lineTo(i+1,y[i+1]*canvasHeight);\r\n                ctx.stroke();\r\n            }\r\n            return canvas;\r\n        }\r\n    },\r\n};\r\n\r\nfunction normalize(array) {\r\n\r\n    const min = Math.min(...array);\r\n    const max = Math.max(...array) - min;\r\n    return array.map(e => (e - min) / max);\r\n}\r\nif(nxtx !== undefined)\r\n    nxtx.registerPackage(pkg);\r\nexport default pkg;"],"names":["pkg","name","commands","plot","dictionaryNode","_a","y","canvas","document","createElement","ctx","getContext","canvasHeight","height","width","style","array","min","max","Math","map","e","beginPath","i","length","moveTo","lineTo","stroke","undefined","nxtx","registerPackage"],"mappings":"iCAIA,IAAMA,EAAe,CACjBC,KAAM,OACNC,SAAU,CACNC,KAAM,SAACC,GACC,IAAAC,UAAOC,eACLC,qBAASC,SAASC,cAAc,WAEhCC,EAAMH,EAAOI,WAAW,MAExBC,EAAeL,EAAOM,OAAS,IACrCN,EAAOO,MAAQ,IAEfP,EAAOQ,MAAMF,OAAS,QACtBN,EAAOQ,MAAMD,MAAQ,QAErB,IAaOE,EAETC,EACAC,EAHSF,EAbuBV,EAehCW,EAAME,KAAKF,UAALE,KAAYH,GAClBE,EAAMC,KAAKD,UAALC,KAAYH,GAASC,EAC1BD,EAAMI,IAAI,SAAAC,GAAK,OAACA,EAAIJ,GAAOC,IAf1BR,EAAIY,YACJ,IAAK,IAAIC,EAAI,EAAGA,EAAIjB,EAAEkB,OAAO,EAAGD,IAC5Bb,EAAIe,OAAOF,EAAGjB,EAAEiB,GAAKX,GACrBF,EAAIgB,OAAOH,EAAE,EAAEjB,EAAEiB,EAAE,GAAGX,GACtBF,EAAIiB,SAER,OAAOpB,iBAWPqB,IAATC,MACCA,KAAKC,gBAAgB9B"}